[gd_scene load_steps=11 format=3 uid="uid://hsjvadwsbdih"]

[ext_resource type="Script" path="res://MainBoard/MainBoard.gd" id="1_ngbew"]
[ext_resource type="Texture2D" uid="uid://cdch3vwecjo3q" path="res://Assets/Buttons/new_board.png" id="2_4jg4w"]
[ext_resource type="PackedScene" uid="uid://e4xfou5ve0gm" path="res://ToolPalette/ToolPalette.tscn" id="3_s80ig"]
[ext_resource type="Texture2D" uid="uid://dj8tk8b0qkokp" path="res://Assets/Buttons/previous.png" id="3_u3tpv"]
[ext_resource type="Texture2D" uid="uid://cxqknx0or7gr8" path="res://Assets/Buttons/next.png" id="4_int1g"]
[ext_resource type="Texture2D" uid="uid://cxnoj01cilkcj" path="res://Assets/Buttons/clear_board.png" id="5_fra2n"]
[ext_resource type="StyleBox" uid="uid://h17ciyanrqsa" path="res://Resources/board_panel_style.tres" id="6_0wgyw"]
[ext_resource type="PackedScene" uid="uid://dqrs686c4wgyd" path="res://AnimatedList/AnimatedList.tscn" id="6_cseuc"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bgtxn"]
bg_color = Color(0.8, 0.8, 0.8, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ogoi0"]
bg_color = Color(0.8, 0.8, 0.8, 1)
corner_radius_top_left = 10

[node name="MainBoard" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1
script = ExtResource("1_ngbew")

[node name="VBox" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="MainMenu" type="Panel" parent="VBox"]
custom_minimum_size = Vector2(200, 48)
layout_mode = 2
size_flags_horizontal = 4
mouse_filter = 1
theme_override_styles/panel = SubResource("StyleBoxFlat_bgtxn")

[node name="HBox" type="HBoxContainer" parent="VBox/MainMenu"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 4.0
offset_bottom = 44.0
grow_horizontal = 2
theme_override_constants/separation = 8
alignment = 1

[node name="New" type="Button" parent="VBox/MainMenu/HBox"]
layout_mode = 2
icon = ExtResource("2_4jg4w")

[node name="Previous" type="Button" parent="VBox/MainMenu/HBox"]
layout_mode = 2
icon = ExtResource("3_u3tpv")

[node name="Next" type="Button" parent="VBox/MainMenu/HBox"]
layout_mode = 2
icon = ExtResource("4_int1g")

[node name="Clear" type="Button" parent="VBox/MainMenu/HBox"]
layout_mode = 2
icon = ExtResource("5_fra2n")

[node name="HBox" type="Control" parent="VBox"]
layout_mode = 2
size_flags_vertical = 3
mouse_filter = 1

[node name="Boards" type="Control" parent="VBox/HBox"]
custom_minimum_size = Vector2(500, 500)
layout_mode = 2
anchors_preset = 0
offset_right = 940.0
offset_bottom = 596.0
size_flags_horizontal = 3
mouse_filter = 1

[node name="Backpanel" type="Panel" parent="VBox/HBox/Boards"]
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_styles/panel = ExtResource("6_0wgyw")

[node name="PreviewList" parent="VBox/HBox" instance=ExtResource("6_cseuc")]
layout_mode = 0
offset_right = 200.0
offset_bottom = 300.0
theme_override_styles/panel = SubResource("StyleBoxFlat_ogoi0")

[node name="Palette" parent="." instance=ExtResource("3_s80ig")]
layout_mode = 2
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 32.0
offset_top = 32.0
offset_right = 72.0
offset_bottom = 288.0
grow_vertical = 1
mouse_filter = 1

[node name="DeleteConfirmationDialog" type="ConfirmationDialog" parent="."]

[node name="ClearConfirmationDialog" type="ConfirmationDialog" parent="."]
dialog_text = "Are you sure you want to clear current board?"

[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
[connection signal="resized" from="." to="." method="_on_resized"]
[connection signal="pressed" from="VBox/MainMenu/HBox/New" to="." method="_on_new_board_pressed"]
[connection signal="pressed" from="VBox/MainMenu/HBox/Previous" to="." method="_on_previous_board_pressed"]
[connection signal="pressed" from="VBox/MainMenu/HBox/Next" to="." method="_on_next_board_pressed"]
[connection signal="pressed" from="VBox/MainMenu/HBox/Clear" to="." method="clear_board_confirm"]
[connection signal="resized" from="VBox/HBox/Boards" to="." method="_on_boards_resized"]
[connection signal="item_delete_requested" from="VBox/HBox/PreviewList" to="." method="delete_confirm"]
[connection signal="item_duplicate_requested" from="VBox/HBox/PreviewList" to="." method="duplicate_board"]
[connection signal="item_moved" from="VBox/HBox/PreviewList" to="." method="_on_preview_list_item_moved"]
[connection signal="item_selected" from="VBox/HBox/PreviewList" to="." method="change_board"]
[connection signal="freeze_pressed" from="Palette" to="." method="_on_palette_freeze_pressed"]
[connection signal="image_pressed" from="Palette" to="." method="_on_palette_image_pressed"]
[connection signal="paste_pressed" from="Palette" to="." method="_on_palette_paste_pressed"]
[connection signal="pointer_pressed" from="Palette" to="." method="_on_palette_pointer_pressed"]
[connection signal="text_pressed" from="Palette" to="." method="_on_palette_text_pressed"]
[connection signal="confirmed" from="DeleteConfirmationDialog" to="." method="delete_board"]
[connection signal="confirmed" from="ClearConfirmationDialog" to="." method="_on_clear_board_pressed"]
